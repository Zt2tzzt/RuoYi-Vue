# 若依搭建

## 一、若依版本

### 1.1.若依官方版本

若依官方针对不同开发需求，提供了多个版本的框架，每个版本都有独特的特点和适用场景：

- **前后端混合版本**：[RuoYi](https://gitee.com/y_project/RuoYi) 结合了 Spring Boot 和 Bootstrap 的前端开发框架；

  - 适合快速构建传统的 Web 应用程序，其中前端和后端代码在同一项目中协同工作。

- **前后端分离版本**：[RuoYi-Vue](https://gitee.com/y_project/RuoYi-Vue) 利用 Spring Boot 作为后端开发框架，与 Vue.js
  结合，实现了前后端分离的开发模式。

  - 这种架构有助于提高开发效率，前后端可以独立开发和部署，更适合现代化的 Web 应用开发。

- **微服务版本**：[RuoYi-Cloud](https://gitee.com/y_project/RuoYi-Cloud) 基于 Spring Cloud & Alibaba
  微服务架构，为构建大型分布式系统提供了完整的解决方案。

  - 它支持服务发现、配置管理、负载均衡等微服务特性，适合需要高可扩展性和高可用性的企业级应用。

- **移动端版本**：[RuoYi-App](https://gitee.com/y_project/RuoYi-App) 采用 Uniapp 进行开发，结合了 Vue.js
  的优势，可以实现跨平台的移动端应用开发。

  - 一次编写，多端运行的能力使得它成为开发 iOS 和 Android 应用的理想选择。

  > RuoYi-App 没有提供后端代码，可以适配 RuoYi-Vue 和 RuoYi-Cloud

这些版本的框架，为开发者提供了多样化的选择；

无论是传统的 Web 应用、现代化的前后端分离应用，还是复杂的微服务架构和跨平台的移动端应用，都能找到合适的若依框架版本来满足开发需求。

### 1.2.若依非官方版本

若依框架，因其强大的功能和灵活性，吸引了众多第三方开发者，基于其核心架构，进行扩展和优化，从而形成了丰富的生态系统。

这些扩展，不仅增强了若依框架的功能性，也满足了开发者在不同场景下的具体需求。例如：

- [RuoYi-Vue3](https://github.com/yangzongzhuan/RuoYi-Vue3)（前端基于 Vue3 Element Plus Vite 构建）；
- [RuoYi-Vue-Plus](https://gitee.com/dromara/RuoYi-Vue-Plus)（后端集成 Mybatis-Plus、Hutool、OSS 存储、分布式锁等组件）。

这些扩展版本的推出，使得若依框架能够更好地适应不同规模和类型的项目需求；

从小型快速开发到大型企业级应用，都能提供相应的解决方案。开发者可以根据自己的具体需求，选择合适的版本进行开发。

## 二、RuoYi-Vue 介绍

[RuoYi-Vue](https://gitee.com/y_project/RuoYi-Vue) 版本，采用了前后端分离的单体架构设计：

软件环境：JDK、MySQL 、Redis 、Maven、Node

技术选型：Spring Boot、Spring Security、MyBatis、Jwt、Vue3、Element-Plus

项目运行环境推荐

| **官方推荐**   | **课程版本**         |
| -------------- | -------------------- |
| JDK >= 1.8     | JDK 21               |
| Mysql >= 5.7.0 | MySQL 8              |
| Redis >= 3.0   | Redis 最新（Docker） |
| Maven >= 3.0   | Maven 3.9.9          |
| Node >= 12     | Node 22（Vue3）      |

## 三、RuoYi-Vue 后端项目初始化

### 3.1.源码拉取并加载

Fork [RuoYi-Vue](https://gitee.com/y_project/RuoYi-Vue) 仓库到自己的远程 git 仓库；

clone 项目源码到本地。

使用 IDEA 打开项目，并加载 Maven 依赖。

### 3.2.数据库初始化

创建数据库 `ry-vue`

```mysql
CREATE DATABASE IF NOT EXISTS `ry-vue`;
```

运行项目下 sql 文件夹下的两个 sql 脚本文件：`ry_20240629.sql` 和 `quartz.sql`。

这会在数据库中导入 30 张表。

在项目配置文件中，修改数据库的 username、password，与开发环境相匹配：

ruoyi-admin/src/main/resources/application-druid.yml

```yaml
# 数据源配置
spring:
  datasource:
    ……
    druid:
      # 主库数据源
      master:
        url: jdbc:mysql://localhost:3306/ry-vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
        username: root
        password: xxxxxx
```

### 3.3.Redis 初始化

Redis 启动！

如果开发环境的 Redis 有密码的话，要在配置文件中进行配置。

ruoyi-admin/src/main/resources/application.yml

```yaml
spring:
  # redis 配置
  redis:
    ……
    # 密码
    password:
```

> Mac 要改两个地方的路径，即使用 Mac 系统中的有效路径。
>
> 一、项目日志文件保存的路径
>
> ruoyi-admin/src/main/resources/logback.xml
>
> ```xml
> <configuration>
>  <!-- 日志存放路径 -->
>  <property name="log.path" value="/Users/zetian/Documents/ruoyi/logs" />
>  ……
> </configuration>
> ```
>
> 二、项目文件上传路径
>
> ruoyi-admin/src/main/resources/application.yml
>
> ```yaml
> # 项目相关配置
> ruoyi:
>   ……
>   # 文件路径 示例（ Windows配置D:/ruoyi/uploadPath，Linux配置 /home/ruoyi/uploadPath）
>   profile: /Users/zetian/Documents/ruoyi/logs
> ```

### 3.4.项目启动

找到项目启动类，以 debug 模式运行 main 方法。

ruoyi-admin/src/main/java/com/ruoyi/RuoYiApplication.java

```java
package com.ruoyi;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;

/**
 * 启动程序
 *
 * @author ruoyi
 */
@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
public class RuoYiApplication {
    public static void main(String[] args) {
        // System.setProperty("spring.devtools.restart.enabled", "false");
        SpringApplication.run(RuoYiApplication.class, args);
        System.out.println("(♥◠‿◠)ﾉﾞ  若依启动成功   ლ(´ڡ`ლ)ﾞ  \n" +
                " .-------.       ____     __        \n" +
                " |  _ _   \\      \\   \\   /  /    \n" +
                " | ( ' )  |       \\  _. /  '       \n" +
                " |(_ o _) /        _( )_ .'         \n" +
                " | (_,_).' __  ___(_ o _)'          \n" +
                " |  |\\ \\  |  ||   |(_,_)'         \n" +
                " |  | \\ `'   /|   `-'  /           \n" +
                " |  |  \\    /  \\      /           \n" +
                " ''-'   `'-'    `-..-'              ");
    }
}
```

## 四、RuoYi-Vue3 前端项目初始化

因为 RuoYi-Vue 中自带的前端项目 `ruoyi-ui` 是基于 Vue2 构建的，而 Vue2  在 2023 年已停止维护了。

这里使用 [RuoYi-Vue3](https://github.com/yangzongzhuan/RuoYi-Vue3) 作为项目的前端部分。

### 4.1.源码拉取并加载

Fork [RuoYi-Vue3](https://github.com/yangzongzhuan/RuoYi-Vue3) 仓库到自己的 git 远程仓库。

clone 项目源码到本地。使用 VSCode 打开项目。

### 4.2.依赖安装

安装项目依赖，执行命令

```sh
pnpm install
```

### 4.3.项目启动

执行命令，启动项目：

```sh
pnpm dev
```
